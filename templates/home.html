{% extends "base.html" %}
{% load humanize %}
{% load static %}

{% block content %}

<h1>Confirmed: {{ global.confirmed|intcomma }}   Recovered: {{ global.recovered|intcomma }}   Deaths: {{ global.deaths|intcomma }}</h1>


<!-- datamap -->
<script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/topojson/1.6.9/topojson.min.js"></script>
<script src="{% static '/js/datamaps.world.min.js' %}"></script>
<div id="container" style="position: relative; width: 500px; height: 300px;"></div>
<script>
    var map = new Datamap({element: document.getElementById('container')});
</script>


<!-- jvectormap -->
<link rel="stylesheet" href="{% static '/css/jquery-jvectormap-2.0.5.css' %}" type="text/css" media="screen"/>
<script src="{% static '/js/jquery-jvectormap-2.0.5.min.js' %}"></script>
<script src="{% static '/js/jquery-jvectormap-world-mill.js' %}"></script>

<div id="world-map" style="width: 600px; height: 400px"></div>
<script>
  $(function(){
    $('#world-map').vectorMap({map: 'world_mill'});
  });
</script>


<script src="//cdnjs.cloudflare.com/ajax/libs/list.js/1.5.0/list.min.js"></script>
<link rel="stylesheet" href="//cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css" crossorigin="anonymous">
<script src="//cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>

<p>Last Updated: </p>
<table class="table table-dark table-striped table-sm">
  <thead>
    <tr>
      <th scope="col">Country</th>
      <th scope="col">Code</th>
      <th scope="col">Confirmed</th>
      <th scope="col">Recovered</th>
      <th scope="col">Deaths</th>
      <th scope="col">Mortality</th>
      <th scope="col">Data</th>
    </tr>
  </thead>
  <tbody>
    {% for c in countries %}
    <tr>
      <td>{{ c.name }}</td>
      <td>{{ c.code }}</td>
      <td>{{ c.confirmed }}</td>
      <td>{{ c.recovered }}</td>
      <td>{{ c.deaths }}</td>
      <td>{{ c.mortality }}</td>
      <td><button class="editbtn">Data</button></td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<script>
  $(document).ready( function () {
    $('#table_id').DataTable();
  } );
</script>
{% endblock content %}
